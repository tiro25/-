# 1. 1계층의 역할과 개요

**케이블**이 연결되어 있는 **기기**에 **신호** 전달

## 케이블

- 동선: 전기신호 사용 ( UTP: 두 개가 한 쌍인 동선 네 쌍으로 구성)
- 광파이버: 광신호 사용 -> 노이즈, 간섭 X



## 인터페이스

- **NIC**(Network Interface Card): LAN용 케이블 연결
- **DCE**(Data Circuittermination Equipment): WAN 종단 기기

<br>

# 2. 신호와 충돌

인터페이스는 비트에서 신호, 신호에서 비트로 변환하는 기기

신호

- 아날로그 신호
- 디지털 신호



통신 속도(**bps**): 신호 횟수 \* 신호 비트수



## 신호에서 발생하는 문제

- **신호 감쇠**: 동선에서의 저항으로 인해 신호가 약해지는 현상
- **노이즈와 간섭**: 외적 요인으로 인해 신호의 진폭이 변하는 현상
- **충돌**: 동일 케이블 상에 동시에 전송된 신호가 충돌해 진폭이 붕괴되는 현상

<br>

# 3. 허브

허브에 케이블로 연결되어 있는 기기는 동일 케이블에 연결된 것과 같은 취급

cf ) 리피터: 증폭만

## 기능

- **신호의 증폭과 재생**
  - 액티브 허브: 증폭 기능 O
  - 패시브 허브: 증폭 기능 X
- **네트워크 구축**: **연속 접속**을 통해서 포트 수보다 많은 컴퓨터에 연결 가능



## 충돌 도메인

**플러딩**: 수신한 포트 이외의 모든 포트에 수신한 신호 송신

**충돌 도메인**: 신호 송신 시 충돌이 발생할지 모르는 범위, 충돌 도메인은 작아야 함.

<br>

# 4. 2계층의 역할과 개요

신호가 닿는 범위(**세그먼트**)에서의 데이터 전송에 관한 규정

1계층에서 사용되는 케이블이나 신호(LAN / WAN)에 따라 다른 규칙 적용

LAN의 사실표준: **이더넷**



**프레이밍**(Framing): 송수신되는 비트열에 의미를 주어 데이터로 취급

**프레임**: 2계층의 PDU (프리엠블 8비트 + 어드레스 16비트)



- **비동기 통신**: 데이터 통신 직전에 **프리엠블**을 보내 타이밍을 맞추는 방법
- **동기 통신**: 데이터를 송수신하지 않은 상태에서도 **클락 신호**를 계속 보내 타이밍을 맞추는 방법

<br>

# 5. 2계층 주소와 이더넷

**주소**: 데이터를 보내는 상대와 자신을 특정하는 데이터



## 종류

- 유니캐스트 주소
- 브로드캐스트 주소
- 멀티캐스트 주소



## 데이터 전송 방법

- **유니캐스트**: 1대1
- **브로드캐스트**: 1대 전체
- **멀티캐스트**: 1대 다수(지정)



각각의 기기는 한 개 이상(라우터처럼 여러 개의 인터페이스를 가진 기기는 인터페이스마다 하나씩)의 **고유한** 유니캐스트 주소 소유

**MAC**(Media Access Control Address) 주소: 인터페이스에 지정된 고정 주소, 이더넷에서 사용, 48비트(벤더코드 24비트 + 벤더 할당 코드 24비트)

<br>

# 6. 이더넷

## 이더넷 프레임

이더넷에서 사용하는 2계층 PDU(64~1518바이트)

에러 발생 시 프레임 파기 (파기 여부 송신측에 알림 X)

- 이더넷 헤더(14바이트)
  - 수신처 MAC 주소(48비트)
  - 송신처 MAC 주소(48비트)
  - 페이로드의 내용 식별 타입(16비트)
- 페이로드: 3계층 PDU
- 이더넷 트레일러(4바이트)
  - FCS(32비트)(Frame CHeck Sequence): 에러 체크



## 이더넷 동작

### 허브 사용 시 문제점

1. 플러딩
1. 충돌

### 해결

1. 수신한 프레임의 수신처 MAC 주소를 보고 자기에게 온 것 외의 다른 프레임 파기 (특정 수신처에만 도달 X)

1. CSMA/CD(Carrier Sense Multiple Access/Collision Detection): 신호 감지(CS), 다중 엑세스(MA) / 충돌검사(CD)

   ![CSMA/CD](C:\Users\choijiwoong\AppData\Roaming\Typora\typora-user-images\image-20210410131106801.png)

<br>

# 7. 스위치

## DSMA/CA의 한계

충돌 도메인 컴퓨터의 수가 많으면 효율 저하



## 스위치

허브 대신 사용

신호가 지나는 길을 분리하여 충돌 방지:

​		프레임의 **수신처 MAC 주소**에 해당하는 포트만 송신하고, 다른 포트로는 송신하지 않기 때문에

​		수신처가 다른 프레임이 동시에 스위치에 도달해도 충돌 발생 X

충돌 도메인은 스위치에 의해 분할

\* *충돌은 허브에서 발생*



- MAC 주소 필터링
  1. 학습: 포트에 연결되어 있는 MAC 주소 기록 (**어드레스 테이블**)
  1. 스위칭: 프레임의 수신처 MAC 주소를 보고 해당 포트만 프레임 송신
- 버퍼링: 충돌할 것 같은 프레임을 버퍼에 일시 저장 (수신처가 같은 프레임이 동시에 도달 했을 시)
  - 버퍼 용량 제한 => 백 프레셔(반이중 - JAM 신호) / IEEE802.3x(전이중 - PAUSE 프레임) 사용: 버퍼 부족 시 송신 중지



## 주의점

플러딩 발생

- 학습 전의 MAC 주소 수신의 프레임 수신 (어드레스 테이블 無)
- 멀티캐스트와 브로드캐스트 수신처인 프레임 수신



<br>

# 8. 전이중 이더넷

반이중(Half-Duplex) 통신: 동시에 송신과 수신이 불가능한 통신 방식

스위치 사용 시 충돌 발생 X -> CSMA/CD 사용 불필요 => 전이중 통신

*스위치와 허브를 연속 접속한 경우 허브에서 충돌 발생 => 전이중 통신 불가*

<br>
